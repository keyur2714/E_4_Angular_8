<div class="card-container">
    <div class="card">
        <div class="card-header bg-dark text-warning">
            Employee Entry
        </div>
        <div class="card-body">
            <form [formGroup]="employeeEntryForm" (ngSubmit)="save()">
                <div class="row form-group">
                    <div class="col-sm-4">Name :</div>
                    <div class="col-sm-4">
                        <input type=text [formControlName]="'name'" class="form-control" (blur)="updateValidations()" />
                    </div>
                    <div class="col-sm-4" *ngIf="employeeEntryForm.get('name').invalid && employeeEntryForm.get('name').touched">
                        <div *ngIf="employeeEntryForm.get('name').errors['required']">
                                Name is Mandatory Field.
                        </div>
                        <div *ngIf="employeeEntryForm.get('name').errors['minlength']">
                                Minimum 3 Character required on name.
                        </div>        
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col-sm-4">City :</div>
                    <div class="col-sm-4">
                        <input type=text [formControlName]="'city'" class="form-control" />
                    </div>                    
                </div>
                <div class="row form-group">
                    <div class="col-sm-4">Salary :</div>
                    <div class="col-sm-4">
                        <input type=text [formControlName]="'salary'" class="form-control" />
                    </div>
                    <div class="col-sm-4" *ngIf="employeeEntryForm.get('salary').invalid && employeeEntryForm.get('salary').touched">
                        <div *ngIf="employeeEntryForm.get('salary').errors['required']">
                                Salary is Mandatory Field.        
                        </div>
                        <div *ngIf="employeeEntryForm.get('salary').errors['pattern']">
                                Only Deigits Allowed in salary field.
                        </div>
                    </div>
                </div>
                <div formArrayName="departments">
                    <div *ngFor="let departmentGroup of empFormArray.controls;let i=index" [formGroupName]="i">
                        <div class="row form-group">
                            <div class="col-sm-4">Department {{i+1}} Id:</div>
                            <div class="col-sm-4">
                                <input type=text formControlName="deptId"  class="form-control" />
                            </div>
                        </div>                        
                        <div class="row form-group">
                            <div class="col-sm-4">Department {{i+1}} Name:</div>
                            <div class="col-sm-4">
                                <input type=text formControlName="deptName"  class="form-control" />
                            </div>
                        </div>                        
                    </div>
                    <div class="form-group">
                        <div class="col-sm-4">
                            <button (click)="addNewDepartment()" class="btn btn-info">Add More</button>
                        </div>
                    </div>                        
                </div>
                <div class="row form-group">
                    <div class="col-sm-4">
                        <button class="btn btn-info" [disabled]="employeeEntryForm.invalid">Save</button>
                    </div>                    
                </div>
            </form>
        </div>
    </div>
</div>
